#
set -x

STORAGE="/Users/jeff/devl/pgpods/storage/src"

#  Create the persistent volumes
kubectl apply -f ${STORAGE}/pgpods-base-pv.yaml
kubectl apply -f ${STORAGE}/pgpods-data-pv.yaml
kubectl apply -f ${STORAGE}/pgpods-xlog-pv.yaml
kubectl apply -f ${STORAGE}/pgpods-bkup-pv.yaml

#  Claim the volumes for the pod
kubectl apply -f ${STORAGE}/pgpods-base-pvc.yaml
kubectl apply -f ${STORAGE}/pgpods-data-pvc.yaml
kubectl apply -f ${STORAGE}/pgpods-xlog-pvc.yaml
kubectl apply -f ${STORAGE}/pgpods-bkup-pvc.yaml

kubectl get pv --namespace com-jasmit-pgpods
kubectl get pvc --namespace com-jasmit-pgpods

exit 0
